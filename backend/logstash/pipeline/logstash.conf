input {
  http {
    port => 5044
    codec => json        # expects plain JSON objects
  }
}

filter {
  # optional: copy timestamp to another field without losing original
  if [@timestamp] {
    mutate { add_field => { "received_timestamp" => "%{@timestamp}" } }
  }
}

output {
  stdout { codec => rubydebug }  # debug output
  elasticsearch {
    hosts => ["http://elasticsearch:9200"]
    index => "app-logs-%{+YYYY.MM.dd}"
    # ssl => false  # if using default insecure stack
  }
}
