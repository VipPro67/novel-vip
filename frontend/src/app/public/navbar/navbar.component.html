<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-brand">
      <a routerLink="/" class="logo">Novel App</a>
    </div>

    <button
      class="menu-toggle"
      (click)="toggleMenu()"
      aria-label="Toggle navigation"
    >
      <span class="menu-icon"></span>
      <span class="menu-icon"></span>
      <span class="menu-icon"></span>
    </button>

    <div class="navbar-menu" [class.is-active]="isMenuOpen">
      <div class="navbar-start">
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          class="navbar-item"
          >Home</a
        >
        <a routerLink="/novels" routerLinkActive="active" class="navbar-item"
          >Novels</a
        >
      </div>

      <div class="navbar-end">
        <ng-container *ngIf="currentUser; else loginButton">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link user-menu" (click)="toggleMenu()">
              <span class="user-name">{{ currentUser.email }}</span>
            </a>
            <div class="navbar-dropdown">
              <a routerLink="/profile" class="navbar-item">Profile</a>
              <a routerLink="/settings" class="navbar-item">Settings</a>
              <hr class="navbar-divider" />
              <a (click)="logout()" class="navbar-item">Logout</a>
            </div>
          </div>
        </ng-container>
        <ng-template #loginButton>
          <div class="navbar-item">
            <div class="buttons">
              <a routerLink="/login" class="button is-primary">Login</a>
              <a routerLink="/register" class="button is-light">Register</a>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</nav>
