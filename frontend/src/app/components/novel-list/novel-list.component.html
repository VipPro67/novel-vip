<div class="novel-list-container">
  <!-- Title -->
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="text-center fw-bold">Danh sách truyện</h1>
    </div>
  </div>

  <!-- Search Bar -->
  <div class="search-container" *ngIf="!compactView">
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="search-form">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search novels</mat-label>
        <input matInput formControlName="searchInput" placeholder="Enter novel title, author...">
        <button mat-icon-button matSuffix type="submit" *ngIf="searchForm.get('searchInput')?.value">
          <mat-icon>search</mat-icon>
        </button>
        <button mat-icon-button matSuffix type="button" (click)="clearSearch()" *ngIf="searchForm.get('searchInput')?.value">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </form>
  </div>

  <!-- Loading Spinner -->
  <div class="loading-container" *ngIf="loading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <!-- Search Results Message -->
  <div class="row mb-4" *ngIf="!loading && searchKeyword && novels.length > 0">
    <div class="col-12">
      <div class="alert alert-info">
        Kết quả tìm kiếm cho "{{ searchKeyword }}": {{ totalElements }} truyện
      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div class="no-results" *ngIf="!loading && novels.length === 0">
    <p>No novels found.</p>
  </div>

  <!-- Novel Grid -->
  <div class="novel-grid" *ngIf="!loading">
    <app-novel-card
      *ngFor="let novel of novels"
      [novelId]="novel.id"
      [title]="novel.title"
      [author]="novel.author"
      [coverImage]="novel.coverImage"
      [status]="novel.status"
      [views]="novel.views"
      [chapters]="novel.chapters.length"
    ></app-novel-card>
  </div>

  <!-- Paginator -->
  <mat-paginator
    *ngIf="!compactView"
    [length]="totalElements"
    [pageSize]="pageSize"
    [pageSizeOptions]="[12, 24, 48, 96]"
    (page)="onPageChange($event)"
    aria-label="Select page">
  </mat-paginator>
</div>
